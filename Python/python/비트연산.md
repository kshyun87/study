# 파이썬에서 비트 연산하기.

비트연산이란 컴퓨터가 이해하는 숫자인 비트를 가지고 연산한다는 의미이다.
컴퓨터 공학?을 배운사람이라면 알겠지만, 컴퓨터는 0과 1로 나열된 것을 끊어 읽어서 값을 파악하는 방식을 사용한다.
예를 들자면, 0001은 사람이 읽기에는 1이고 컴퓨터는 0001이다.

일반적으로 변수로 선언된 정수 또는 소수를 연산하면 일반 연산자를 이용하면 된다. 그러나 비트는 조금 다르다.
비트는 더하거나 빼는 방식이라면 일반적인 + -와 같지만
비교(and, or, not..)를 통해 새로운 수를 만들 수 있다.

컴퓨터 논리에서는 and연산은 같으면 1 or는 0이 아니면 1이다.
다시 말하자면
1 & 1 == 1이고 1&0 ==0이다.
그러나 1 | 1 == 1 이지만 1|0==1이고 0|1== 1이다.

### 비트 연산 예
3은 비트로 표현하면 0011이고
1은 비트로 표현하면 0001이다.

이를 가지고 연산해 보자.

```python
print('3 & 1 == ',3 & 1)  # 3 & 1 == 1
print('3 | 1 == ',3 | 1)  # 3 | 1 == 3
```
즉 AND(&)는 비트로 표현해서 같은 자리수의 수가 같으면 1을 다르면 0을 반환한다.
OR(|)는 비트로 표현해서 같은 자리수의 수가 둘 다 0이 아니면 1이다. 즉, 어느 한 쪽이라도 1이 있으면 1인 것이다.

### 비트연산은 왜 사용하지?
비트연산은 왜 사용할까?
그냥 덧셈 뺄샘 하면될 것같은데 말이다.
개발을 하다보면 권한이라든가 인증이라든가 필요할 때가 있다.
이 비트 연산을 이용하면 아주 재미난 것을 만들 수 있다.

자, A라는 객체가 있다.
우리는 A객체에 대해서 CRUD(Create, Read, Update, Delete)권한을 만들고 싶다. 그리고 그 권한에 따라서 사용자가 해당 동작을 할때 권한이 있는지를 파악하고 싶다.

그럼 어떻게 만들어야할까?
1. 먼저 드는 생각은 객체로 각각 하나의 필드를 주고 True or False로 하는건 어떨까?
2. 아니면, 각 CRUD를 1,2,3,4로 지정해서 해당 번호가 있어야 할수 있게 하면 어떨까?
1번 2번 모두 땡이다.
물론 1번은 사용할 수 있는 방법이긴하다.
그러나 DB에서 자원이 낭비된다. 필드가 4개나 잡히니까.
2번은 사용자는 한번에 하나의 권한만 가지게 되는 문제가 발생된다.
생성도할 수 있으면서 삭제도 하려면 문제가 된다.

이때 사용하기에 좋은것이 비트연산이다.
아까 AND연산은 둘다 1이면 1이었다.
이를 응용해보자.
CRUD를 4자리의 문자열이니까 각각 0으로 맵핑해서 생각해보면
CRUD == 0000
으로 표현할 수 있지 않을까?
그럼 각 자리수에 권한이 있으면 1을 없으면 0으로 표시해보자
0101 : R과 D의 권한이 있다.
1111 : CRUD 모든 권한이 있다.
이렇게 하면 한 필드로 모든 권한을 표현할 수 있다.
나중에 0101 권한을 가진 사용자가
0100의 권한이 필요한 접근을 하더라도
서로 and연산을 통해서 접근하면 R권한이 있기에 접근할 수 있게 된다.
